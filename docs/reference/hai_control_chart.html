<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create a control chart — hai_control_chart • healthyR.ai</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create a control chart — hai_control_chart"><meta name="description" content="Create a control chart, aka Shewhart chart:
https://en.wikipedia.org/wiki/Control_chart."><meta property="og:description" content="Create a control chart, aka Shewhart chart:
https://en.wikipedia.org/wiki/Control_chart."><meta property="og:image" content="https://www.spsanderson.com/healthyR.ai/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">healthyR.ai</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../articles/getting-started.html">Getting Started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><h6 class="dropdown-header" data-toc-skip>K-Means</h6></li>
    <li><a class="dropdown-item" href="../articles/auto-kmeans.html">Auto M-Means Clustering</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>K-Means and UMAP</h6></li>
    <li><a class="dropdown-item" href="../articles/kmeans-umap.html">K-Means and UMAP</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Function Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/spsanderson/healthyR.ai/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Create a control chart</h1>
      <small class="dont-index">Source: <a href="https://github.com/spsanderson/healthyR.ai/blob/HEAD/R/control-chart.R" class="external-link"><code>R/control-chart.R</code></a></small>
      <div class="d-none name"><code>hai_control_chart.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Create a control chart, aka Shewhart chart:
<a href="https://en.wikipedia.org/wiki/Control_chart" class="external-link">https://en.wikipedia.org/wiki/Control_chart</a>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">hai_control_chart</span><span class="op">(</span></span>
<span>  <span class="va">.data</span>,</span>
<span>  <span class="va">.value_col</span>,</span>
<span>  <span class="va">.x_col</span>,</span>
<span>  .center_line <span class="op">=</span> <span class="va">mean</span>,</span>
<span>  .std_dev <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  .plt_title <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .plt_catpion <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .plt_font_size <span class="op">=</span> <span class="fl">11</span>,</span>
<span>  .print_plot <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--data">.data<a class="anchor" aria-label="anchor" href="#arg--data"></a></dt>
<dd><p>data frame or a path to a csv file that will be read in</p></dd>


<dt id="arg--value-col">.value_col<a class="anchor" aria-label="anchor" href="#arg--value-col"></a></dt>
<dd><p>variable of interest mapped to y-axis (quoted, ie as a string)</p></dd>


<dt id="arg--x-col">.x_col<a class="anchor" aria-label="anchor" href="#arg--x-col"></a></dt>
<dd><p>variable to go on the x-axis, often a time variable. If unspecified
row indices will be used (quoted)</p></dd>


<dt id="arg--center-line">.center_line<a class="anchor" aria-label="anchor" href="#arg--center-line"></a></dt>
<dd><p>Function used to calculate central tendency. Defaults to
mean</p></dd>


<dt id="arg--std-dev">.std_dev<a class="anchor" aria-label="anchor" href="#arg--std-dev"></a></dt>
<dd><p>Number of standard deviations above and below the central
tendency to call a point influenced by "special cause variation." Defaults
to 3</p></dd>


<dt id="arg--plt-title">.plt_title<a class="anchor" aria-label="anchor" href="#arg--plt-title"></a></dt>
<dd><p>Plot title</p></dd>


<dt id="arg--plt-catpion">.plt_catpion<a class="anchor" aria-label="anchor" href="#arg--plt-catpion"></a></dt>
<dd><p>Plot caption</p></dd>


<dt id="arg--plt-font-size">.plt_font_size<a class="anchor" aria-label="anchor" href="#arg--plt-font-size"></a></dt>
<dd><p>Font size; text elements will be scaled to this</p></dd>


<dt id="arg--print-plot">.print_plot<a class="anchor" aria-label="anchor" href="#arg--print-plot"></a></dt>
<dd><p>Print the plot? Default = TRUE. Set to FALSE if you want to
assign the plot to a variable for further modification, as in the last
example.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Generally called for the side effect of printing the control chart.
Invisibly, returns a ggplot object for further customization.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Control charts, also known as Shewhart charts (after Walter A. Shewhart) or
process-behavior charts, are a statistical process control tool used to determine
if a manufacturing or business process is in a state of control. It is more
appropriate to say that the control charts are the graphical device for
Statistical Process Monitoring (SPM). Traditional control charts are mostly
designed to monitor process parameters when underlying form of the process
distributions are known. However, more advanced techniques are available in
the 21st century where incoming data streaming can-be monitored even without
any knowledge of the underlying process distributions. Distribution-free
control charts are becoming increasingly popular.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Steven P. Sanderson II, MPH</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">data_tbl</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  day <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Monday"</span>, <span class="st">"Tuesday"</span>, <span class="st">"Wednesday"</span>, <span class="st">"Thursday"</span>, <span class="st">"Friday"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fl">100</span>, <span class="cn">TRUE</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  person <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Tom"</span>, <span class="st">"Jane"</span>, <span class="st">"Alex"</span><span class="op">)</span>, <span class="fl">100</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html" class="external-link">rbinom</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">20</span>, <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">day</span> <span class="op">==</span> <span class="st">"Friday"</span>, <span class="fl">.5</span>, <span class="fl">.2</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample.int</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">hai_control_chart</span><span class="op">(</span>.data <span class="op">=</span> <span class="va">data_tbl</span>, .value_col <span class="op">=</span> <span class="va">count</span>, .x_col <span class="op">=</span> <span class="va">date</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="hai_control_chart-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># In addition to printing or writing the plot to file, hai_control_chart</span></span></span>
<span class="r-in"><span><span class="co"># returns the plot as a ggplot2 object, which you can then further customize</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">my_chart</span> <span class="op">&lt;-</span> <span class="fu">hai_control_chart</span><span class="op">(</span><span class="va">data_tbl</span>, <span class="va">count</span>, <span class="va">date</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="hai_control_chart-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="va">my_chart</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Number of Adverse Events"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html" class="external-link">scale_x_date</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Week of ... "</span>, date_breaks <span class="op">=</span> <span class="st">"week"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="op">-</span><span class="fl">90</span>, vjust <span class="op">=</span> <span class="fl">0.5</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="hai_control_chart-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Steven Sanderson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

