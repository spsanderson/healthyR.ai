<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Data Preprocessor - Transformation Functions — hai_data_transform • healthyR.ai</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Data Preprocessor - Transformation Functions — hai_data_transform"><meta name="description" content='Takes in a recipe and will perform the desired transformation on the selected
varialbe(s) using a selected recipe. To call the desired transformation
recipe use a quoted argument like "boxcos", "bs" etc.'><meta property="og:description" content='Takes in a recipe and will perform the desired transformation on the selected
varialbe(s) using a selected recipe. To call the desired transformation
recipe use a quoted argument like "boxcos", "bs" etc.'><meta property="og:image" content="https://www.spsanderson.com/healthyR.ai/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">healthyR.ai</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../articles/getting-started.html">Getting Started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><h6 class="dropdown-header" data-toc-skip>K-Means</h6></li>
    <li><a class="dropdown-item" href="../articles/auto-kmeans.html">Auto M-Means Clustering</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>K-Means and UMAP</h6></li>
    <li><a class="dropdown-item" href="../articles/kmeans-umap.html">K-Means and UMAP</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Function Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/spsanderson/healthyR.ai/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Data Preprocessor - Transformation Functions</h1>
      <small class="dont-index">Source: <a href="https://github.com/spsanderson/healthyR.ai/blob/HEAD/R/hai-data-transform.R" class="external-link"><code>R/hai-data-transform.R</code></a></small>
      <div class="d-none name"><code>hai_data_transform.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Takes in a recipe and will perform the desired transformation on the selected
varialbe(s) using a selected recipe. To call the desired transformation
recipe use a quoted argument like "boxcos", "bs" etc.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">hai_data_transform</span><span class="op">(</span></span>
<span>  .recipe_object <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  .type_of_scale <span class="op">=</span> <span class="st">"log"</span>,</span>
<span>  .bc_limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">5</span>, <span class="fl">5</span><span class="op">)</span>,</span>
<span>  .bc_num_unique <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  .bs_deg_free <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .bs_degree <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  .log_base <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>  .log_offset <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  .logit_offset <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  .ns_deg_free <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  .rel_shift <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  .rel_reverse <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  .rel_smooth <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  .yj_limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">5</span>, <span class="fl">5</span><span class="op">)</span>,</span>
<span>  .yj_num_unique <span class="op">=</span> <span class="fl">5</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--recipe-object">.recipe_object<a class="anchor" aria-label="anchor" href="#arg--recipe-object"></a></dt>
<dd><p>The data that you want to process</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>One or more selector functions to choose variables to be imputed.
When used with imp_vars, these dots indicate which variables are used to
predict the missing data in each variable. See selections() for more details</p></dd>


<dt id="arg--type-of-scale">.type_of_scale<a class="anchor" aria-label="anchor" href="#arg--type-of-scale"></a></dt>
<dd><p>This is a quoted argument and can be one of the following:</p><ul><li><p>"boxcox"</p></li>
<li><p>"bs"</p></li>
<li><p>"log"</p></li>
<li><p>"logit"</p></li>
<li><p>"ns"</p></li>
<li><p>"relu"</p></li>
<li><p>"sqrt"</p></li>
<li><p>"yeojohnson</p></li>
</ul></dd>


<dt id="arg--bc-limits">.bc_limits<a class="anchor" aria-label="anchor" href="#arg--bc-limits"></a></dt>
<dd><p>A length 2 numeric vector defining the range to compute the
transformation parameter lambda.</p></dd>


<dt id="arg--bc-num-unique">.bc_num_unique<a class="anchor" aria-label="anchor" href="#arg--bc-num-unique"></a></dt>
<dd><p>An integer to specify minimum required unique values to
evaluate for a transformation</p></dd>


<dt id="arg--bs-deg-free">.bs_deg_free<a class="anchor" aria-label="anchor" href="#arg--bs-deg-free"></a></dt>
<dd><p>The degrees of freedom for the spline. As the degrees of
freedom for a spline increase, more flexible and complex curves can be
generated. When a single degree of freedom is used, the result is a rescaled
version of the original data.</p></dd>


<dt id="arg--bs-degree">.bs_degree<a class="anchor" aria-label="anchor" href="#arg--bs-degree"></a></dt>
<dd><p>Degree of polynomial spline (integer).</p></dd>


<dt id="arg--log-base">.log_base<a class="anchor" aria-label="anchor" href="#arg--log-base"></a></dt>
<dd><p>A numberic value for the base.</p></dd>


<dt id="arg--log-offset">.log_offset<a class="anchor" aria-label="anchor" href="#arg--log-offset"></a></dt>
<dd><p>An optional value to add to the data prior to logging (to avoid log(0))</p></dd>


<dt id="arg--logit-offset">.logit_offset<a class="anchor" aria-label="anchor" href="#arg--logit-offset"></a></dt>
<dd><p>A numberic value to modify values ofthe columns that are
either one or zero. They are modifed to be <code>x - offset</code> or <code>offset</code> respectively.</p></dd>


<dt id="arg--ns-deg-free">.ns_deg_free<a class="anchor" aria-label="anchor" href="#arg--ns-deg-free"></a></dt>
<dd><p>The degrees of freedom for the natural spline. As the
degrees of freedom for a natural spline increase, more flexible and complex
curves can be generated. When a single degree of freedom is used, the result
is a rescaled version of the original data.</p></dd>


<dt id="arg--rel-shift">.rel_shift<a class="anchor" aria-label="anchor" href="#arg--rel-shift"></a></dt>
<dd><p>A numeric value dictating a translation to apply to the data.</p></dd>


<dt id="arg--rel-reverse">.rel_reverse<a class="anchor" aria-label="anchor" href="#arg--rel-reverse"></a></dt>
<dd><p>A logical to indicate if theleft hinge should be used as
opposed to the right hinge.</p></dd>


<dt id="arg--rel-smooth">.rel_smooth<a class="anchor" aria-label="anchor" href="#arg--rel-smooth"></a></dt>
<dd><p>A logical indicating if hte softplus function, a smooth
approximation to the rectified linear transformation, should be used.</p></dd>


<dt id="arg--yj-limits">.yj_limits<a class="anchor" aria-label="anchor" href="#arg--yj-limits"></a></dt>
<dd><p>A length 2 numeric vector defining the range to compute the
transformation parameter lambda.</p></dd>


<dt id="arg--yj-num-unique">.yj_num_unique<a class="anchor" aria-label="anchor" href="#arg--yj-num-unique"></a></dt>
<dd><p>An integer where data that have less possible values
will not be evaluated for a transformation.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list object</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function will get your data ready for processing with many types of ml/ai
models.</p>
<p>This is intended to be used inside of the data processor and
therefore is an internal function. This documentation exists to explain the process
and help the user understand the parameters that can be set in the pre-processor function.</p>
<p><code><a href="https://recipes.tidymodels.org/reference/step_BoxCox.html" class="external-link">recipes::step_BoxCox()</a></code></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="https://recipes.tidymodels.org/reference/step_BoxCox.html" class="external-link">https://recipes.tidymodels.org/reference/step_BoxCox.html</a></p>
<p><code><a href="https://recipes.tidymodels.org/reference/step_bs.html" class="external-link">recipes::step_bs()</a></code></p>
<p><a href="https://recipes.tidymodels.org/reference/step_bs.html" class="external-link">https://recipes.tidymodels.org/reference/step_bs.html</a></p>
<p><code><a href="https://recipes.tidymodels.org/reference/step_log.html" class="external-link">recipes::step_log()</a></code></p>
<p><a href="https://recipes.tidymodels.org/reference/step_log.html" class="external-link">https://recipes.tidymodels.org/reference/step_log.html</a></p>
<p><code><a href="https://recipes.tidymodels.org/reference/step_logit.html" class="external-link">recipes::step_logit()</a></code></p>
<p><a href="https://recipes.tidymodels.org/reference/step_logit.html" class="external-link">https://recipes.tidymodels.org/reference/step_logit.html</a></p>
<p><code><a href="https://recipes.tidymodels.org/reference/step_ns.html" class="external-link">recipes::step_ns()</a></code></p>
<p><a href="https://recipes.tidymodels.org/reference/step_ns.html" class="external-link">https://recipes.tidymodels.org/reference/step_ns.html</a></p>
<p><code><a href="https://recipes.tidymodels.org/reference/step_relu.html" class="external-link">recipes::step_relu()</a></code></p>
<p><a href="https://recipes.tidymodels.org/reference/step_relu.html" class="external-link">https://recipes.tidymodels.org/reference/step_relu.html</a></p>
<p><code><a href="https://recipes.tidymodels.org/reference/step_sqrt.html" class="external-link">recipes::step_sqrt()</a></code></p>
<p><a href="https://recipes.tidymodels.org/reference/step_sqrt.html" class="external-link">https://recipes.tidymodels.org/reference/step_sqrt.html</a></p>
<p><code><a href="https://recipes.tidymodels.org/reference/step_YeoJohnson.html" class="external-link">recipes::step_YeoJohnson()</a></code></p>
<p><a href="https://recipes.tidymodels.org/reference/step_YeoJohnson.html" class="external-link">https://recipes.tidymodels.org/reference/step_YeoJohnson.html</a></p>
<p>Other Data Recipes:
<code><a href="hai_data_impute.html">hai_data_impute</a>()</code>,
<code><a href="hai_data_poly.html">hai_data_poly</a>()</code>,
<code><a href="hai_data_scale.html">hai_data_scale</a>()</code>,
<code><a href="hai_data_trig.html">hai_data_trig</a>()</code>,
<code><a href="pca_your_recipe.html">pca_your_recipe</a>()</code></p>
<p>Other Preprocessor:
<code><a href="hai_c50_data_prepper.html">hai_c50_data_prepper</a>()</code>,
<code><a href="hai_cubist_data_prepper.html">hai_cubist_data_prepper</a>()</code>,
<code><a href="hai_data_impute.html">hai_data_impute</a>()</code>,
<code><a href="hai_data_poly.html">hai_data_poly</a>()</code>,
<code><a href="hai_data_scale.html">hai_data_scale</a>()</code>,
<code><a href="hai_data_trig.html">hai_data_trig</a>()</code>,
<code><a href="hai_earth_data_prepper.html">hai_earth_data_prepper</a>()</code>,
<code><a href="hai_glmnet_data_prepper.html">hai_glmnet_data_prepper</a>()</code>,
<code><a href="hai_knn_data_prepper.html">hai_knn_data_prepper</a>()</code>,
<code><a href="hai_ranger_data_prepper.html">hai_ranger_data_prepper</a>()</code>,
<code><a href="hai_svm_poly_data_prepper.html">hai_svm_poly_data_prepper</a>()</code>,
<code><a href="hai_svm_rbf_data_prepper.html">hai_svm_rbf_data_prepper</a>()</code>,
<code><a href="hai_xgboost_data_prepper.html">hai_xgboost_data_prepper</a>()</code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Steven P. Sanderson II, MPH</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tidymodels/recipes" class="external-link">recipes</a></span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">date_seq</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.Date.html" class="external-link">seq.Date</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2013-01-01"</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">100</span>, by <span class="op">=</span> <span class="st">"month"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">val_seq</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10</span>, mean <span class="op">=</span> <span class="fl">6</span>, sd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>, times <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df_tbl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  date_col <span class="op">=</span> <span class="va">date_seq</span>,</span></span>
<span class="r-in"><span>  value    <span class="op">=</span> <span class="va">val_seq</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">rec_obj</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://recipes.tidymodels.org/reference/recipe.html" class="external-link">recipe</a></span><span class="op">(</span><span class="va">value</span> <span class="op">~</span> <span class="va">.</span>, <span class="va">df_tbl</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">hai_data_transform</span><span class="op">(</span></span></span>
<span class="r-in"><span>  .recipe_object <span class="op">=</span> <span class="va">rec_obj</span>,</span></span>
<span class="r-in"><span>  <span class="va">value</span>,</span></span>
<span class="r-in"><span>  .type_of_scale <span class="op">=</span> <span class="st">"log"</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">$</span><span class="va">scale_rec_obj</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="get_juiced_data.html">get_juiced_data</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 100 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    date_col   value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> 2013-01-01  1.96</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> 2013-02-01  1.93</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> 2013-03-01  1.11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> 2013-04-01  1.53</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> 2013-05-01  1.79</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> 2013-06-01  1.74</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> 2013-07-01  1.77</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> 2013-08-01  1.60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> 2013-09-01  2.10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> 2013-10-01  2.05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 90 more rows</span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Steven Sanderson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

